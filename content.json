{
    "Format": "2.3.0",
    "Changes": [
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Objects/Tanghulu",
            "FromFile": "assets/objects/tanghulu.png"
        },
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Objects/Dumpling",
            "FromFile": "assets/objects/dumpling.png"
        },
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Objects/RedEnvelope",
            "FromFile": "assets/objects/red_envelope.png"
        },
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Furniture/ChineseKnot",
            "FromFile": "assets/furniture/chinese_knot.png"
        },
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Furniture/FuCharacter",
            "FromFile": "assets/furniture/fu_character.png"
        },
        {
            "Action": "Load",
            "Target": "Mods/SpringFestival/Furniture/Orchid",
            "FromFile": "assets/furniture/orchid.png"
        },
        {
            "Action": "EditData",
            "Target": "Data/Objects",
            "Entries": {
                "{{ModId}}_Tanghulu": {
                    "Name": "Tanghulu",
                    "DisplayName": "Tanghulu",
                    "Description": "A traditional Chinese candied fruit skewer. Sweet and festive!",
                    "Type": "Cooking",
                    "Category": -7,
                    "Price": 150,
                    "Texture": "Mods/SpringFestival/Objects/Tanghulu",
                    "SpriteIndex": 0,
                    "Edibility": 45,
                    "IsDrink": false,
                    "Buffs": [
                        {
                            "Id": "{{ModId}}_Tanghulu_Buff",
                            "Duration": 180,
                            "BuffId": "{{ModId}}_Tanghulu_Buff",
                            "CustomAttributes": {
                                "Speed": 1
                            }
                        }
                    ],
                    "ContextTags": [ "color_red", "season_winter", "festival_item" ]
                },
                "{{ModId}}_Dumpling": {
                    "Name": "Dumpling",
                    "DisplayName": "Dumpling",
                    "Description": "A delicious homemade dumpling. A symbol of wealth and good fortune.",
                    "Type": "Cooking",
                    "Category": -7,
                    "Price": 200,
                    "Texture": "Mods/SpringFestival/Objects/Dumpling",
                    "SpriteIndex": 0,
                    "Edibility": 60,
                    "IsDrink": false,
                    "Buffs": [
                        {
                            "Id": "{{ModId}}_Dumpling_Buff",
                            "Duration": 300,
                            "BuffId": "{{ModId}}_Dumpling_Buff",
                            "CustomAttributes": {
                                "Luck": 1
                            }
                        }
                    ],
                    "ContextTags": [ "color_white", "season_winter", "festival_item" ]
                },
                "{{ModId}}_RedEnvelope": {
                    "Name": "RedEnvelope",
                    "DisplayName": "Red Envelope",
                    "Description": "A lucky red envelope filled with surprises! Open it to receive a gift.",
                    "Type": "Basic",
                    "Category": 0,
                    "Price": 888,
                    "Texture": "Mods/SpringFestival/Objects/RedEnvelope",
                    "SpriteIndex": 0,
                    "Edibility": -300,
                    "IsDrink": false,
                    "ContextTags": [ "color_red", "season_winter", "festival_item", "gift_item" ]
                }
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Objects",
            "Entries": {
                "{{ModId}}_Tanghulu": {
                    "Name": "Tanghulu",
                    "DisplayName": "冰糖葫芦",
                    "Description": "传统的中国糖葫芦。甜蜜又喜庆！",
                    "Type": "Cooking",
                    "Category": -7,
                    "Price": 150,
                    "Texture": "Mods/SpringFestival/Objects/Tanghulu",
                    "SpriteIndex": 0,
                    "Edibility": 45,
                    "IsDrink": false,
                    "Buffs": [
                        {
                            "Id": "{{ModId}}_Tanghulu_Buff",
                            "Duration": 180,
                            "BuffId": "{{ModId}}_Tanghulu_Buff",
                            "CustomAttributes": {
                                "Speed": 1
                            }
                        }
                    ],
                    "ContextTags": [ "color_red", "season_winter", "festival_item" ]
                },
                "{{ModId}}_Dumpling": {
                    "Name": "Dumpling",
                    "DisplayName": "饺子",
                    "Description": "美味的手工饺子。象征着财富和好运。",
                    "Type": "Cooking",
                    "Category": -7,
                    "Price": 200,
                    "Texture": "Mods/SpringFestival/Objects/Dumpling",
                    "SpriteIndex": 0,
                    "Edibility": 60,
                    "IsDrink": false,
                    "Buffs": [
                        {
                            "Id": "{{ModId}}_Dumpling_Buff",
                            "Duration": 300,
                            "BuffId": "{{ModId}}_Dumpling_Buff",
                            "CustomAttributes": {
                                "Luck": 1
                            }
                        }
                    ],
                    "ContextTags": [ "color_white", "season_winter", "festival_item" ]
                },
                "{{ModId}}_RedEnvelope": {
                    "Name": "RedEnvelope",
                    "DisplayName": "红包",
                    "Description": "一个装满惊喜的红包！打开后会获得礼物。",
                    "Type": "Basic",
                    "Category": 0,
                    "Price": 888,
                    "Texture": "Mods/SpringFestival/Objects/RedEnvelope",
                    "SpriteIndex": 0,
                    "Edibility": -300,
                    "IsDrink": false,
                    "ContextTags": [ "color_red", "season_winter", "festival_item", "gift_item" ]
                }
            },
            "When": {
                "Language": "zh"
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Furniture",
            "Entries": {
                "{{ModId}}_ChineseKnot": {
                    "Name": "Chinese Knot",
                    "DisplayName": "Chinese Knot",
                    "Description": "A beautiful traditional Chinese knot decoration. Brings good luck!",
                    "Type": "painting",
                    "Texture": "Mods/SpringFestival/Furniture/ChineseKnot",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 2 },
                    "BoundingBoxSize": { "Width": 1, "Height": 2 },
                    "Price": 500,
                    "Rotations": 1,
                    "PlacementRestriction": 2,
                    "ContextTags": [ "color_red", "festival_item" ]
                },
                "{{ModId}}_FuCharacter": {
                    "Name": "Fu Character",
                    "DisplayName": "Fu Character",
                    "Description": "The Chinese character for 'fortune'. Often hung upside down to signify 'fortune arrives'.",
                    "Type": "painting",
                    "Texture": "Mods/SpringFestival/Furniture/FuCharacter",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 1 },
                    "BoundingBoxSize": { "Width": 1, "Height": 1 },
                    "Price": 500,
                    "Rotations": 1,
                    "PlacementRestriction": 2,
                    "ContextTags": [ "color_red", "festival_item" ]
                },
                "{{ModId}}_Orchid": {
                    "Name": "Orchid",
                    "DisplayName": "Phalaenopsis Orchid",
                    "Description": "A beautiful butterfly orchid. Symbolizes elegance and prosperity.",
                    "Type": "table",
                    "Texture": "Mods/SpringFestival/Furniture/Orchid",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 2 },
                    "BoundingBoxSize": { "Width": 1, "Height": 1 },
                    "Price": 800,
                    "Rotations": 1,
                    "PlacementRestriction": 0,
                    "ContextTags": [ "color_purple", "flower", "festival_item" ]
                }
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Furniture",
            "Entries": {
                "{{ModId}}_ChineseKnot": {
                    "Name": "Chinese Knot",
                    "DisplayName": "中国结",
                    "Description": "美丽的传统中国结装饰。带来好运！",
                    "Type": "painting",
                    "Texture": "Mods/SpringFestival/Furniture/ChineseKnot",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 2 },
                    "BoundingBoxSize": { "Width": 1, "Height": 2 },
                    "Price": 500,
                    "Rotations": 1,
                    "PlacementRestriction": 2,
                    "ContextTags": [ "color_red", "festival_item" ]
                },
                "{{ModId}}_FuCharacter": {
                    "Name": "Fu Character",
                    "DisplayName": "福字",
                    "Description": "中国的『福』字。常常倒挂寓意『福到了』。",
                    "Type": "painting",
                    "Texture": "Mods/SpringFestival/Furniture/FuCharacter",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 1 },
                    "BoundingBoxSize": { "Width": 1, "Height": 1 },
                    "Price": 500,
                    "Rotations": 1,
                    "PlacementRestriction": 2,
                    "ContextTags": [ "color_red", "festival_item" ]
                },
                "{{ModId}}_Orchid": {
                    "Name": "Orchid",
                    "DisplayName": "蝴蝶兰",
                    "Description": "美丽的蝴蝶兰盆栽。象征着优雅与富贵。",
                    "Type": "table",
                    "Texture": "Mods/SpringFestival/Furniture/Orchid",
                    "SpriteIndex": 0,
                    "TilesheetSize": { "Width": 1, "Height": 2 },
                    "BoundingBoxSize": { "Width": 1, "Height": 1 },
                    "Price": 800,
                    "Rotations": 1,
                    "PlacementRestriction": 0,
                    "ContextTags": [ "color_purple", "flower", "festival_item" ]
                }
            },
            "When": {
                "Language": "zh"
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Festivals/FestivalDates",
            "Entries": {
                "winter28": "winter 28"
            }
        },
        {
            "Action": "EditMap",
            "Target": "Maps/Town",
            "FromFile": "assets/maps/Town-SVE-Christmas2.tmx",
            "When": {
                "Season": "winter",
                "Day": "28",
                "HasMod": "FlashShifter.StardewValleyExpanded"
            },
            "Priority": "Early"
        },
        {
            "Action": "EditMap",
            "Target": "Maps/Town",
            "FromFile": "assets/maps/Town.tmx",
            "When": {
                "Season": "winter",
                "Day": "28",
                "HasMod |contains=FlashShifter.StardewValleyExpanded": "false"
            },
            "Priority": "Early"
        },
        {
            "Action": "Load",
            "Target": "Data/Festivals/winter28",
            "FromFile": "assets/data/winter28.json",
            "Priority": "High"
        },
        {
            "Action": "Load",
            "Target": "Data/Festivals/winter28",
            "FromFile": "assets/data/winter28_zh.json",
            "When": {
                "Language": "zh"
            },
            "Priority": "High"
        },
        {
            "Action": "EditData",
            "Target": "Data/mail",
            "Entries": {
                "spring_festival_notice": "Dear @,^^ The annual Spring Festival is coming up on the 28th of Winter! Please come celebrate with us in the town square. There will be food, decorations, and a spectacular fireworks display!^^Hope to see you there!^  -Mayor Lewis"
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/mail",
            "Entries": {
                "spring_festival_notice": "亲爱的@：^^一年一度除夕即将在冬季28日到来！届时请来镇广场和大家一起庆祝吧。届时会有美食、精美的装饰，还有壮观的烟花表演！^^期待你的到来！^  ——路易斯镇长"
            },
            "When": {
                "Language": "zh"
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/TriggerActions",
            "Entries": {
                "SpringFestivalMod.ChineseSpringFestival_SendMail": {
                    "Id": "SpringFestivalMod.ChineseSpringFestival_SendMail",
                    "Trigger": "DayStarted",
                    "Condition": "SEASON winter, DAY_OF_MONTH 25",
                    "Actions": [
                        "AddMail Current spring_festival_notice"
                    ],
                    "MarkActionApplied": false
                }
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Shops",
            "Entries": {
                "SpringFestival_Shop": {
                    "Owners": [
                        {
                            "Id": "AnyOrNone",
                            "Name": "Any",
                            "Dialogues": [
                                {
                                    "Id": "Default",
                                    "Dialogue": "Welcome to the Spring Festival shop! Take a look at our festive goods!"
                                }
                            ]
                        }
                    ],
                    "SalableItemTags": null,
                    "Items": [
                        {
                            "Id": "SpringFestival_Tanghulu",
                            "ItemId": "(O){{ModId}}_Tanghulu",
                            "Price": 150,
                            "AvailableStock": -1
                        },
                        {
                            "Id": "SpringFestival_Dumpling",
                            "ItemId": "(O){{ModId}}_Dumpling",
                            "Price": 200,
                            "AvailableStock": -1
                        },
                        {
                            "Id": "SpringFestival_RedEnvelope",
                            "ItemId": "(O){{ModId}}_RedEnvelope",
                            "Price": 888,
                            "AvailableStock": 3,
                            "AvailableStockLimit": "Player"
                        },
                        {
                            "Id": "SpringFestival_ChineseKnot",
                            "ItemId": "(F){{ModId}}_ChineseKnot",
                            "Price": 500,
                            "AvailableStock": 2
                        },
                        {
                            "Id": "SpringFestival_FuCharacter",
                            "ItemId": "(F){{ModId}}_FuCharacter",
                            "Price": 500,
                            "AvailableStock": 2
                        },
                        {
                            "Id": "SpringFestival_Orchid",
                            "ItemId": "(F){{ModId}}_Orchid",
                            "Price": 800,
                            "AvailableStock": 1,
                            "AvailableStockLimit": "Player"
                        }
                    ]
                }
            }
        },
        {
            "Action": "EditData",
            "Target": "Data/Shops",
            "Entries": {
                "SpringFestival_Shop": {
                    "Owners": [
                        {
                            "Id": "AnyOrNone",
                            "Name": "Any",
                            "Dialogues": [
                                {
                                    "Id": "Default",
                                    "Dialogue": "欢迎来到除夕市集！看看我们的节日商品吧！"
                                }
                            ]
                        }
                    ],
                    "SalableItemTags": null,
                    "Items": [
                        {
                            "Id": "SpringFestival_Tanghulu",
                            "ItemId": "(O){{ModId}}_Tanghulu",
                            "Price": 150,
                            "AvailableStock": -1
                        },
                        {
                            "Id": "SpringFestival_Dumpling",
                            "ItemId": "(O){{ModId}}_Dumpling",
                            "Price": 200,
                            "AvailableStock": -1
                        },
                        {
                            "Id": "SpringFestival_RedEnvelope",
                            "ItemId": "(O){{ModId}}_RedEnvelope",
                            "Price": 888,
                            "AvailableStock": 3,
                            "AvailableStockLimit": "Player"
                        },
                        {
                            "Id": "SpringFestival_ChineseKnot",
                            "ItemId": "(F){{ModId}}_ChineseKnot",
                            "Price": 500,
                            "AvailableStock": 2
                        },
                        {
                            "Id": "SpringFestival_FuCharacter",
                            "ItemId": "(F){{ModId}}_FuCharacter",
                            "Price": 500,
                            "AvailableStock": 2
                        },
                        {
                            "Id": "SpringFestival_Orchid",
                            "ItemId": "(F){{ModId}}_Orchid",
                            "Price": 800,
                            "AvailableStock": 1,
                            "AvailableStockLimit": "Player"
                        }
                    ]
                }
            },
            "When": {
                "Language": "zh"
            }
        }
    ]
}
